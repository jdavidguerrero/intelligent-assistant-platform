# Deep House — harmonic template
#
# Aesthetic: lush, warm, slightly jazzy. Minor and major keys equally used.
# Rich extended chords: dom7, maj9, min9. Smooth voice leading between chords.
# Often uses sus2/sus4 to add ambiguity before resolution.
#
# Reference artists: Larry Heard, Kerri Chandler, Ron Trent, Moodymann

genre: deep house
default_mode: natural minor
voicing: seventh            # maj7, min7, dom7

progressions:
  - degrees: [0, 5, 3, 6]   # i - VI - iv - VII
    label: "i - VI - iv - VII"
    weight: 4
  - degrees: [0, 3, 5, 4]   # i - iv - VI - v
    label: "i - iv - VI - v"
    weight: 3
  - degrees: [0, 5, 0, 3]   # i - VI - i - iv  (two-bar vamp)
    label: "i - VI - i - iv"
    weight: 2
  - degrees: [0, 6, 5, 3]   # i - VII - VI - iv
    label: "i - VII - VI - iv"
    weight: 2

tonic_degrees: [0]
avoid_penultimate: []       # deep house allows any penultimate chord

# ---------------------------------------------------------------------------
# Humanization configuration
# Deep house is the most human-feeling: loose timing, expressive velocity
# ---------------------------------------------------------------------------
humanize_config:
  timing_jitter_ms: 7.0        # ±7ms — warm, swung, slightly loose
  velocity_variation: 14       # ±14 velocity units — most expressive
  ghost_probability: 0.15      # 15% ghost notes — lush hi-hat texture

moods:
  - dreamy
  - neutral
  - euphoric

extensions:
  minor: min7
  major: maj7
  dim: dim7

# ---------------------------------------------------------------------------
# Bass patterns — 16-step grid, one bar template, transposed per chord root
# Format: [step, semitone_offset_from_root, duration_steps, velocity]
# ---------------------------------------------------------------------------
bass_patterns:
  - style: root
    base_octave: 2
    notes:
      - [0,  0,  4, 100]    # root, beat 1
      - [4,  5,  2,  88]    # fourth, beat 2 (jazzy movement)
      - [6,  7,  2,  82]    # fifth, offbeat 2
      - [8,  0,  4,  96]    # root, beat 3
      - [12, -5, 2,  86]    # fourth below (going down for warmth)
      - [14, 0,  2,  78]    # root, return

  - style: walk
    base_octave: 2
    notes:
      - [0,  0,  2, 100]    # root
      - [2,  2,  2,  84]    # major second
      - [4,  5,  2,  90]    # fourth
      - [6,  7,  2,  84]    # fifth
      - [8,  10, 2,  80]    # flat-seventh
      - [10, 12, 2,  84]    # octave
      - [12, 7,  2,  88]    # fifth, descending
      - [14, 0,  2,  78]    # root, cadence

  - style: sub
    base_octave: 1            # Ultra-low sub bass register
    notes:
      - [0,  0, 8, 102]       # root, first half-bar
      - [8,  0, 8,  95]       # root, second half-bar (breath)

  - style: driving
    base_octave: 2
    notes:
      - [0,  0, 2, 106]       # beat 1
      - [2,  0, 2,  94]       # offbeat 1
      - [4,  0, 2, 104]       # beat 2
      - [6,  0, 2,  92]       # offbeat 2
      - [8,  0, 2, 106]       # beat 3
      - [10, 0, 2,  94]       # offbeat 3
      - [12, 0, 2, 104]       # beat 4
      - [14, 0, 2,  90]       # offbeat 4

  - style: minimal
    base_octave: 2
    notes:
      - [0, 0, 6, 98]         # root on beat 1, dotted-quarter sustain

# ---------------------------------------------------------------------------
# Drum patterns — deep house: groovier hi-hat, warm and less mechanical
# ---------------------------------------------------------------------------
drum_patterns:
  velocity_base:
    kick:    108
    snare:    88
    clap:     80
    hihat_c:  68
    hihat_o:  75

  grid:
    # Kick: 4-on-the-floor with slight dynamic softening on 3
    kick:    [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0]
    # Snare on 2 and 4
    snare:   [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]
    # Clap on beat 2 only — deep house restraint
    clap:    [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    # Hi-hat: swung 8ths (skip beat subdivision for warmth)
    hihat_c: [1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0]
    # Open hi-hat on beats 2 and 4 — creates that "airy" deep house feel
    hihat_o: [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]

  probability:
    kick:    [1.0, 0, 0, 0, 1.0, 0, 0, 0, 1.0, 0, 0, 0, 1.0, 0, 0, 0]
    snare:   [0, 0, 0, 0, 0.92, 0, 0, 0, 0, 0, 0, 0, 0.92, 0, 0, 0]
    clap:    [0, 0, 0, 0, 0.85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    hihat_c: [1.0, 0, 0.90, 0, 0, 0, 0.90, 0, 1.0, 0, 0.90, 0, 0, 0, 0.90, 0]
    hihat_o: [0, 0, 0, 0, 0.88, 0, 0, 0, 0, 0, 0, 0, 0.88, 0, 0, 0]

  energy_layers:
    1:  [kick]
    3:  [snare]
    5:  [hihat_c]
    7:  [clap]
    10: [hihat_o]

  fill:
    every_n_bars: 4
    kick:    [1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0]
    snare:   [0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0]
    hihat_c: [1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0]
